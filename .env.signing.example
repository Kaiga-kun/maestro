# Signing Credentials for Maestro Releases
# Copy this file to .env.signing and fill in your actual values
# .env.signing is gitignored and will not be committed

# ==============================================================================
# GitHub Tokens
# ==============================================================================

# Fine-grained PAT for GitHub releases and repository operations
# Create at: https://github.com/settings/tokens?type=beta
# Required permissions: Contents (read/write), Metadata (read)
export GITHUB_TOKEN="github_pat_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Classic PAT for GitHub Container Registry (ghcr.io)
# Create at: https://github.com/settings/tokens (classic tokens)
# Required scopes: write:packages
# NOTE: Fine-grained PATs are not supported by ghcr.io as of 2025
export GITHUB_PACKAGES_TOKEN="ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ==============================================================================
# macOS Code Signing (via quill)
# ==============================================================================
# IMPORTANT: Apple deprecated Apple ID notarization. You MUST use API keys.
#
# To set up:
# 1. Export Developer ID certificate from Keychain as .p12
# 2. Create API key at: https://appstoreconnect.apple.com/access/api
#    - Role: Developer (minimum needed)
#    - Download the .p8 file (you can only download once!)
#    - Note the Key ID (e.g., ABC123XYZ)
#    - Note the Issuer ID (UUID at top of page)
# 3. Base64 encode: base64 -i file.p12 | tr -d '\n'
# 4. Base64 encode: base64 -i AuthKey_XXX.p8 | tr -d '\n'
#
# For detailed setup: see docs/SIGNING_SETUP.md

# P12 certificate file (base64 encoded - entire output, no line breaks)
export QUILL_SIGN_P12=""

# Password for the P12 certificate (plaintext)
export QUILL_SIGN_PASSWORD=""

# Apple Notary API Key (base64 encoded .p8 file - entire output, no line breaks)
export QUILL_NOTARY_KEY=""

# Apple Notary Key ID (from App Store Connect, e.g., "ABC123XYZ")
export QUILL_NOTARY_KEY_ID=""

# Apple Notary Issuer ID (UUID from App Store Connect)
export QUILL_NOTARY_ISSUER=""

# ==============================================================================
# Windows Code Signing (via Azure Trusted Signing)
# ==============================================================================
# IMPORTANT: This uses Azure TRUSTED SIGNING, not Azure Key Vault!
#
# To set up:
# 1. Create Azure Trusted Signing account in Azure Portal
# 2. Create certificate profile (e.g., "UpRockPublic")
# 3. Create service principal:
#    az ad sp create-for-rbac --name "maestro-signing"
# 4. Grant role "Code Signing Certificate Profile Signer" in Azure Portal
#
# The service principal creation outputs appId, password, and tenant values.
#
# For detailed setup: see docs/SIGNING_SETUP.md
# Documentation: https://learn.microsoft.com/en-us/azure/trusted-signing/

# Azure Active Directory Client ID (from service principal appId)
export AZURE_CLIENT_ID=""

# Azure Active Directory Client Secret (from service principal password)
export AZURE_CLIENT_SECRET=""

# Azure Active Directory Tenant ID (from service principal tenant)
export AZURE_TENANT_ID=""

# Azure Trusted Signing endpoint (regional - adjust if needed)
export AZURE_ENDPOINT="https://neu.codesigning.azure.net/"

# Azure Trusted Signing account name (exact name from Azure Portal)
export AZURE_CODE_SIGNING_ACCOUNT_NAME=""

# Certificate profile name (exact name from Azure Portal)
export AZURE_CERTIFICATE_PROFILE_NAME=""
